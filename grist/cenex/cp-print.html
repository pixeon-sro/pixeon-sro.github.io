<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>onRecord</title>
    <script src="https://docs.getgrist.com/grist-plugin-api.js"></script>
  </head>
  <body>
    <h1>Cenová ponuka</h1>
    <hr/>
    <h2><strong>Dielo: </strong><pre id="dielo"></pre></h2>
    <h2><strong>Investor</strong><pre id="zakaznik"></pre></h2>
    <h2>Kontaktné údaje</h2>
    <div>
      <strong>telefón: </strong><pre id="telefon"></pre><br/>
      <strong>e-mail:</strong><pre id="mail"></pre>
    </div>
    <hr/>
    <div>
      <strong>Dátum vyhotovenia CP</strong><pre id="datum-vyhotovenia"></pre>
      <strong>Dátum platnosti CP</strong><pre id="datum-platnosti"></pre>
    </div>
    <pre id="readout">Waiting for data...</pre>
    <script>
      // grist pozaduje pristu na čítanie tabulky
      grist.ready({ requiredAccess: 'read table' });
      // nazov stavby
      grist.onRecord(function(record) {
        document.getElementById("dielo").innerText=record.Dielo;
      });
      // meno zakaznika
      grist.onRecord(function(record) {
        document.getElementById("zakaznik").innerText=record.Zakaznik;
      });
      // telefon na zakaznika
      grist.onRecord(function(record) {
        document.getElementById("telefon").innerText=record.Telefon;
      });
      // meno zakaznika
      grist.onRecord(function(record) {
        document.getElementById("mail").innerText=record.Mail;
      });
      // meno zakaznika
      grist.onRecord(function(record) {
        document.getElementById("datum-vyhotovenia").innerText=record.Datum-vyhotovenia-ponuky;
      });
      // meno zakaznika
      grist.onRecord(function(record) {
        document.getElementById("datum-platnosti").innerText=record.Datum-platnosti-ponuky;
      });
      // meno zakaznika
      grist.onRecord(function(record) {
        document.getElementById("zakaznik").innerText=record.Zakaznik;
      });
      grist.onRecord(function(record) {
        document.getElementById('readout').innerHTML = JSON.stringify(record, null, 2);
      });
    </script>
    <a href="javascript:window.print()">Print</a>
  </body>
</html>
